<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <linearGradient id="questionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9B59B6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8E44AD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="yesGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27AE60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E8449;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="noGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#E74C3C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#C0392B;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="actionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498DB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980B9;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <marker id="arrowYes" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27AE60"/>
    </marker>
    <marker id="arrowNo" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#E74C3C"/>
    </marker>
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498DB"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#333">
    架构决策流程图
  </text>
  
  <!-- Start -->
  <g transform="translate(350, 60)">
    <circle cx="50" cy="20" r="20" fill="#333"/>
    <text x="50" y="26" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">开始</text>
  </g>
  
  <!-- Question 1: Need custom gesture? -->
  <g transform="translate(300, 110)">
    <polygon points="100,0 200,50 100,100 0,50" fill="url(#questionGrad)" filter="url(#shadow)"/>
    <text x="100" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">需要自定义</text>
    <text x="100" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">手势?</text>
  </g>
  
  <!-- Arrow from start to Q1 -->
  <line x1="400" y1="80" x2="400" y2="110" stroke="#666" stroke-width="2"/>
  
  <!-- No path - use built-in -->
  <line x1="300" y1="160" x2="150" y2="160" stroke="#E74C3C" stroke-width="2"/>
  <line x1="150" y1="160" x2="150" y2="200" stroke="#E74C3C" stroke-width="2" marker-end="url(#arrowNo)"/>
  <text x="220" y="150" font-family="Arial, sans-serif" font-size="11" fill="#E74C3C" font-weight="bold">否</text>
  
  <g transform="translate(70, 210)">
    <rect x="0" y="0" width="160" height="60" rx="8" fill="#27AE60" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white" font-weight="bold">使用内置 Modifier</text>
    <text x="80" y="42" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="rgba(255,255,255,0.9)">scrollable, draggable</text>
    <text x="80" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="rgba(255,255,255,0.8)">自动参与嵌套滚动 ✅</text>
  </g>
  
  <!-- Yes path - use pointerInput -->
  <line x1="500" y1="160" x2="600" y2="160" stroke="#27AE60" stroke-width="2"/>
  <line x1="600" y1="160" x2="600" y2="200" stroke="#27AE60" stroke-width="2" marker-end="url(#arrowYes)"/>
  <text x="550" y="150" font-family="Arial, sans-serif" font-size="11" fill="#27AE60" font-weight="bold">是</text>
  
  <g transform="translate(520, 210)">
    <rect x="0" y="0" width="160" height="45" rx="8" fill="url(#actionGrad)" filter="url(#shadow)"/>
    <text x="80" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">使用 pointerInput</text>
  </g>
  
  <!-- Question 2: Nested in scroll container? -->
  <line x1="600" y1="255" x2="600" y2="280" stroke="#666" stroke-width="2"/>
  
  <g transform="translate(500, 290)">
    <polygon points="100,0 200,50 100,100 0,50" fill="url(#questionGrad)" filter="url(#shadow)"/>
    <text x="100" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">嵌套在滚动</text>
    <text x="100" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">容器中?</text>
  </g>
  
  <!-- No - direct handling -->
  <line x1="500" y1="340" x2="350" y2="340" stroke="#E74C3C" stroke-width="2"/>
  <line x1="350" y1="340" x2="350" y2="380" stroke="#E74C3C" stroke-width="2" marker-end="url(#arrowNo)"/>
  <text x="420" y="330" font-family="Arial, sans-serif" font-size="11" fill="#E74C3C" font-weight="bold">否</text>
  
  <g transform="translate(270, 390)">
    <rect x="0" y="0" width="160" height="45" rx="8" fill="#27AE60" filter="url(#shadow)"/>
    <text x="80" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">直接处理事件</text>
  </g>
  
  <!-- Yes - need nested scroll handling -->
  <line x1="700" y1="340" x2="750" y2="340" stroke="#27AE60" stroke-width="2"/>
  <line x1="750" y1="340" x2="750" y2="380" stroke="#27AE60" stroke-width="2" marker-end="url(#arrowYes)"/>
  <text x="720" y="330" font-family="Arial, sans-serif" font-size="11" fill="#27AE60" font-weight="bold">是</text>
  
  <!-- Two solutions -->
  <g transform="translate(620, 390)">
    <rect x="0" y="0" width="160" height="100" rx="8" fill="#f8f9fa" stroke="#3498DB" stroke-width="2"/>
    <text x="80" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333" font-weight="bold">选择方案</text>
    <line x1="10" y1="32" x2="150" y2="32" stroke="#dee2e6" stroke-width="1"/>
    
    <rect x="10" y="42" width="140" height="22" rx="4" fill="#3498DB"/>
    <text x="80" y="57" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">简单 → NestedScrollDispatcher</text>
    
    <rect x="10" y="70" width="140" height="22" rx="4" fill="#9B59B6"/>
    <text x="80" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">复杂 → 分离手势处理器</text>
  </g>
</svg>
